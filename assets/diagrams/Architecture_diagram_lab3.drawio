<mxfile host="app.diagrams.net" agent="AI Assistant">
  <diagram name="Mafia District Architecture" id="mafia-district-complete">
    <mxGraphModel dx="2400" dy="1400" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1800" pageHeight="1400" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Title -->
        <mxCell id="title" value="Mafia District - Distributed System Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=22;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="500" y="20" width="800" height="40" as="geometry" />
        </mxCell>
        
        <!-- Client Layer -->
        <mxCell id="client" value="Client Layer&#xa;(Web/Mobile Applications)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;fontStyle=1;verticalAlign=top" vertex="1" parent="1">
          <mxGeometry x="40" y="90" width="200" height="100" as="geometry" />
        </mxCell>
        
        <!-- Infrastructure Layer -->
        <mxCell id="infra-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;dashed=1" vertex="1" parent="1">
          <mxGeometry x="280" y="70" width="1480" height="160" as="geometry" />
        </mxCell>
        
        <mxCell id="infra-label" value="Infrastructure &amp; Gateway Layer" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="290" y="75" width="250" height="25" as="geometry" />
        </mxCell>
        
        <!-- API Gateway -->
        <mxCell id="gateway" value="API Gateway&#xa;(Node.js)&#xa;&#xa;• JWT Authentication&#xa;• Rate Limiting&#xa;• Request Caching (Redis)&#xa;• WebSocket Proxy&#xa;• Service Routing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;align=left;spacingLeft=12;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="300" y="110" width="220" height="100" as="geometry" />
        </mxCell>
        
        <!-- Service Discovery -->
        <mxCell id="discovery" value="Service Discovery&#xa;(Node.js)&#xa;&#xa;• Service Registry&#xa;• Health Monitoring (5s)&#xa;• Auto-Deregistration&#xa;• Telegram Notifications&#xa;• Metrics Export" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;align=left;spacingLeft=12;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="550" y="110" width="220" height="100" as="geometry" />
        </mxCell>
        
        <!-- Redis -->
        <mxCell id="redis" value="Redis&#xa;Cache" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=12;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="810" y="115" width="100" height="90" as="geometry" />
        </mxCell>
        
        <!-- Monitoring -->
        <mxCell id="monitoring" value="Monitoring&#xa;&#xa;Prometheus&#xa;+&#xa;Grafana" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="950" y="115" width="120" height="90" as="geometry" />
        </mxCell>
        
        <!-- Telegram -->
        <mxCell id="telegram" value="Telegram&#xa;Bot API&#xa;&#xa;Alert System" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1110" y="115" width="120" height="90" as="geometry" />
        </mxCell>
        
        <!-- Developers -->
        <mxCell id="devs" value="Development&#xa;Team&#xa;&#xa;Real-time&#xa;Alerts" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1270" y="115" width="120" height="90" as="geometry" />
        </mxCell>
        
        <!-- Container Orchestration -->
        <mxCell id="docker-label" value="Docker + Docker Compose" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1430" y="130" width="300" height="60" as="geometry" />
        </mxCell>
        
        <!-- Microservices Layer Background -->
        <mxCell id="services-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f9f9f9;strokeColor=#999999;dashed=1" vertex="1" parent="1">
          <mxGeometry x="40" y="260" width="1720" height="680" as="geometry" />
        </mxCell>
        
        <mxCell id="services-label" value="Microservices Layer (10 Services + 10 Databases)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="50" y="265" width="450" height="30" as="geometry" />
        </mxCell>
        
        <!-- Row 1: Core Game Services -->
        
        <!-- User Management -->
        <mxCell id="user-svc" value="User Management Service&#xa;(Go)&#xa;&#xa;• User Registration/Login&#xa;• Profile Management&#xa;• Device Management&#xa;• JWT Authentication&#xa;&#xa;REST API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;align=left;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="60" y="310" width="180" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="user-db" value="PostgreSQL" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="105" y="445" width="70" height="50" as="geometry" />
        </mxCell>
        
        <!-- Game Service -->
        <mxCell id="game-svc" value="Game Service&#xa;(Go)&#xa;&#xa;• Lobby Management&#xa;• Game State Management&#xa;• Day/Night Cycles&#xa;• Player Status&#xa;&#xa;REST + WebSocket" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;align=left;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="270" y="310" width="180" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="game-db" value="PostgreSQL" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="315" y="445" width="70" height="50" as="geometry" />
        </mxCell>
        
        <!-- Shop Service -->
        <mxCell id="shop-svc" value="Shop Service&#xa;(TypeScript)&#xa;&#xa;• Item Management&#xa;• Purchase Processing&#xa;• Inventory Control&#xa;• Transaction History&#xa;&#xa;REST API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;align=left;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="480" y="310" width="180" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="shop-db" value="PostgreSQL" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="525" y="445" width="70" height="50" as="geometry" />
        </mxCell>
        
        <!-- Roleplay Service -->
        <mxCell id="roleplay-svc" value="Roleplay Service&#xa;(Python / FastAPI)&#xa;&#xa;• Role Actions&#xa;• Item Effects&#xa;• Ability Management&#xa;• Event Broadcasting&#xa;&#xa;REST + WebSocket" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;align=left;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="690" y="310" width="180" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="roleplay-db" value="PostgreSQL" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="735" y="445" width="70" height="50" as="geometry" />
        </mxCell>
        
        <!-- Town Service -->
        <mxCell id="town-svc" value="Town Service&#xa;(Go)&#xa;&#xa;• Location Management&#xa;• Player Movement&#xa;• Location Discovery&#xa;• Activity Tracking&#xa;&#xa;REST + WebSocket" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;align=left;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="900" y="310" width="180" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="town-db" value="PostgreSQL" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="945" y="445" width="70" height="50" as="geometry" />
        </mxCell>
        
        <!-- Row 2: Communication & Supporting Services -->
        
        <!-- Character Service -->
        <mxCell id="char-svc" value="Character Service&#xa;(Rust)&#xa;&#xa;• Character Creation&#xa;• Customization&#xa;• Inventory Management&#xa;• Stats Tracking&#xa;&#xa;gRPC API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=10;align=left;spacingLeft=10;spacingTop=5;fontColor=#333333" vertex="1" parent="1">
          <mxGeometry x="60" y="530" width="180" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="char-db" value="PostgreSQL" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="105" y="665" width="70" height="50" as="geometry" />
        </mxCell>
        
        <!-- Rumors Service -->
        <mxCell id="rumors-svc" value="Rumors Service&#xa;(Go)&#xa;&#xa;• Information Trading&#xa;• Rumor Generation&#xa;• Information Spread&#xa;• Player Intel&#xa;&#xa;gRPC API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;align=left;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="270" y="530" width="180" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="rumors-db" value="PostgreSQL" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="315" y="665" width="70" height="50" as="geometry" />
        </mxCell>
        
        <!-- Communication Service -->
        <mxCell id="comm-svc" value="Communication Service&#xa;(Go)&#xa;&#xa;• Global Chat&#xa;• Private Messaging&#xa;• Message Streaming&#xa;• Chat History&#xa;&#xa;gRPC Streaming" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;align=left;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="480" y="530" width="180" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="comm-db" value="PostgreSQL" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="525" y="665" width="70" height="50" as="geometry" />
        </mxCell>
        
        <!-- Task Service -->
        <mxCell id="task-svc" value="Task Service&#xa;(Go)&#xa;&#xa;• Task Assignment&#xa;• Task Completion&#xa;• Reward Processing&#xa;• Log Download (Circular Buffer)&#xa;&#xa;REST API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;align=left;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="690" y="530" width="180" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="task-db" value="PostgreSQL" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="735" y="665" width="70" height="50" as="geometry" />
        </mxCell>
        
        <!-- Voting Service -->
        <mxCell id="voting-svc" value="Voting Service&#xa;(Python / FastAPI)&#xa;&#xa;• Vote Processing&#xa;• Result Calculation&#xa;• Vote History&#xa;• Log Download (Circular Buffer)&#xa;&#xa;REST API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;align=left;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="900" y="530" width="180" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="voting-db" value="SQLite /&#xa;PostgreSQL" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=8;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=9" vertex="1" parent="1">
          <mxGeometry x="945" y="665" width="70" height="50" as="geometry" />
        </mxCell>
        
        <!-- Key Features Panel -->
        <mxCell id="features-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666" vertex="1" parent="1">
          <mxGeometry x="1130" y="310" width="610" height="405" as="geometry" />
        </mxCell>
        
        <mxCell id="features-title" value="System Capabilities &amp; Features" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1140" y="320" width="590" height="25" as="geometry" />
        </mxCell>
        
        <!-- Feature Group 1 -->
        <mxCell id="feat1-title" value="Communication Protocols" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1150" y="360" width="270" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="feat1-content" value="• REST APIs (Primary)&#xa;  - JSON Request/Response&#xa;  - Standard HTTP Methods&#xa;  - Error Handling&#xa;&#xa;• gRPC (High Performance)&#xa;  - Character, Rumors, Communication&#xa;  - Protocol Buffers&#xa;  - Bidirectional Streaming&#xa;&#xa;• WebSocket (Real-time)&#xa;  - Game State Updates&#xa;  - Live Chat&#xa;  - Player Movement" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=9;align=left;spacingLeft=10;spacingTop=5;fontColor=#333333" vertex="1" parent="1">
          <mxGeometry x="1150" y="395" width="270" height="150" as="geometry" />
        </mxCell>
        
        <!-- Feature Group 2 -->
        <mxCell id="feat2-title" value="Operational Features" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1150" y="560" width="270" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="feat2-content" value="• Health Monitoring&#xa;  - Periodic Health Checks (5s)&#xa;  - Automatic Deregistration&#xa;  - Service Status Dashboard&#xa;&#xa;• Log Management&#xa;  - Circular Buffer Architecture&#xa;  - JSON &amp; Text Export&#xa;  - Level Filtering (INFO/WARN/ERROR)&#xa;  - Time-Range Queries&#xa;&#xa;• Alert System&#xa;  - Telegram Integration&#xa;  - Service Health Notifications&#xa;  - Recovery Alerts&#xa;  - Smart Cooldown" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=9;align=left;spacingLeft=10;spacingTop=5;fontColor=#333333" vertex="1" parent="1">
          <mxGeometry x="1150" y="595" width="270" height="110" as="geometry" />
        </mxCell>
        
        <!-- Feature Group 3 -->
        <mxCell id="feat3-title" value="Infrastructure Capabilities" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1450" y="360" width="270" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="feat3-content" value="• API Gateway&#xa;  - JWT Authentication&#xa;  - Rate Limiting&#xa;  - Request/Response Caching&#xa;  - Circuit Breaking&#xa;  - Load Balancing&#xa;&#xa;• Service Discovery&#xa;  - Dynamic Registration&#xa;  - Service Health Tracking&#xa;  - Automatic Routing Updates&#xa;  - Metrics Collection&#xa;&#xa;• Data Management&#xa;  - 10 Independent Databases&#xa;  - PostgreSQL (9 services)&#xa;  - SQLite (1 service)&#xa;  - Redis Caching Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=9;align=left;spacingLeft=10;spacingTop=5;fontColor=#333333" vertex="1" parent="1">
          <mxGeometry x="1450" y="395" width="270" height="180" as="geometry" />
        </mxCell>
        
        <!-- Feature Group 4 -->
        <mxCell id="feat4-title" value="Technology Stack" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1450" y="590" width="270" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="feat4-content" value="• Programming Languages&#xa;  - Go (6 services)&#xa;  - Python (2 services)&#xa;  - TypeScript (1 service)&#xa;  - Rust (1 service)&#xa;  - Node.js (2 infrastructure)&#xa;&#xa;• Frameworks&#xa;  - FastAPI (Python)&#xa;  - Gin/Chi (Go)&#xa;  - Express (Node.js)&#xa;  - Actix/Tokio (Rust)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=9;align=left;spacingLeft=10;spacingTop=5;fontColor=#333333" vertex="1" parent="1">
          <mxGeometry x="1450" y="625" width="270" height="80" as="geometry" />
        </mxCell>
        
        <!-- System Statistics -->
        <mxCell id="stats-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666" vertex="1" parent="1">
          <mxGeometry x="40" y="970" width="1720" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="stats-title" value="System Overview" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="50" y="980" width="1700" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="stat1" value="10 Microservices" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="60" y="1020" width="150" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="stat2" value="10 Databases" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="230" y="1020" width="150" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="stat3" value="3 Protocols&#xa;REST • gRPC • WebSocket" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="400" y="1020" width="180" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="stat4" value="4 Languages&#xa;Go • Python • TypeScript • Rust" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="600" y="1020" width="210" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="stat5" value="Real-time Health Monitoring&#xa;5-second intervals" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="830" y="1020" width="190" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="stat6" value="Telegram Notifications&#xa;Unhealthy • Recovered • Removed" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1040" y="1020" width="220" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="stat7" value="Log Download API&#xa;JSON &amp; Text formats" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1280" y="1020" width="170" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="stat8" value="Docker Compose&#xa;Containerized Deployment" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=11;fontStyle=1;fontColor=#333333" vertex="1" parent="1">
          <mxGeometry x="1470" y="1020" width="180" height="50" as="geometry" />
        </mxCell>
        
        <!-- Connection Arrows -->
        
        <!-- Client to Gateway -->
        <mxCell id="arrow1" value="HTTPS" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#6c8ebf" edge="1" parent="1" source="client" target="gateway">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="240" y="160" as="sourcePoint" />
            <mxPoint x="300" y="160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Gateway to Service Discovery -->
        <mxCell id="arrow2" value="Service&#xa;Lookup" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#d79b00;dashed=1" edge="1" parent="1" source="gateway" target="discovery">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="160" as="sourcePoint" />
            <mxPoint x="550" y="160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Gateway to Redis -->
        <mxCell id="arrow3" value="Cache" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=2;strokeColor=#82b366;dashed=1" edge="1" parent="1" source="gateway" target="redis">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="520" y="135" as="sourcePoint" />
            <mxPoint x="810" y="160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Service Discovery to Monitoring -->
        <mxCell id="arrow4" value="Metrics" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#9673a6;dashed=1" edge="1" parent="1" source="discovery" target="monitoring">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="770" y="160" as="sourcePoint" />
            <mxPoint x="950" y="160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Service Discovery to Telegram -->
        <mxCell id="arrow5" value="Alerts" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#82b366" edge="1" parent="1" source="discovery" target="telegram">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="770" y="185" as="sourcePoint" />
            <mxPoint x="1110" y="160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Telegram to Developers -->
        <mxCell id="arrow6" value="Notify" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;strokeColor=#b85450" edge="1" parent="1" source="telegram" target="devs">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1230" y="160" as="sourcePoint" />
            <mxPoint x="1270" y="160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Health Check Lines (from Service Discovery to services) -->
        <mxCell id="health1" value="Health" style="endArrow=classic;html=1;rounded=0;exitX=0.15;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#d79b00;dashed=1;dashPattern=1 4;exitPerimeter=0" edge="1" parent="1" source="discovery" target="user-svc">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="583" y="215" as="sourcePoint" />
            <mxPoint x="150" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="health2" value="Health" style="endArrow=classic;html=1;rounded=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#d79b00;dashed=1;dashPattern=1 4" edge="1" parent="1" source="discovery" target="game-svc">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="605" y="215" as="sourcePoint" />
            <mxPoint x="360" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="health3" value="Health" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#d79b00;dashed=1;dashPattern=1 4" edge="1" parent="1" source="discovery" target="task-svc">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="660" y="215" as="sourcePoint" />
            <mxPoint x="780" y="530" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="health4" value="Health" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1;strokeColor=#d79b00;dashed=1;dashPattern=1 4" edge="1" parent="1" source="discovery" target="voting-svc">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="715" y="215" as="sourcePoint" />
            <mxPoint x="990" y="530" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Database Connections -->
        <mxCell id="db-conn1" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=1;strokeColor=#82b366" edge="1" parent="1" source="user-svc" target="user-db">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="150" y="435" as="sourcePoint" />
            <mxPoint x="150" y="445" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="db-conn2" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=1;strokeColor=#82b366" edge="1" parent="1" source="game-svc" target="game-db">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="360" y="435" as="sourcePoint" />
            <mxPoint x="360" y="445" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="db-conn3" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=1;strokeColor=#82b366" edge="1" parent="1" source="shop-svc" target="shop-db">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="435" as="sourcePoint" />
            <mxPoint x="570" y="445" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="db-conn4" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=1;strokeColor=#82b366" edge="1" parent="1" source="roleplay-svc" target="roleplay-db">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="780" y="435" as="sourcePoint" />
            <mxPoint x="780" y="445" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="db-conn5" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=1;strokeColor=#82b366" edge="1" parent="1" source="town-svc" target="town-db">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="990" y="435" as="sourcePoint" />
            <mxPoint x="990" y="445" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="db-conn6" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=1;strokeColor=#82b366" edge="1" parent="1" source="char-svc" target="char-db">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="150" y="655" as="sourcePoint" />
            <mxPoint x="150" y="665" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="db-conn7" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=1;strokeColor=#82b366" edge="1" parent="1" source="rumors-svc" target="rumors-db">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="360" y="655" as="sourcePoint" />
            <mxPoint x="360" y="665" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="db-conn8" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=1;strokeColor=#82b366" edge="1" parent="1" source="comm-svc" target="comm-db">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="655" as="sourcePoint" />
            <mxPoint x="570" y="665" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="db-conn9" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=1;strokeColor=#82b366" edge="1" parent="1" source="task-svc" target="task-db">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="780" y="655" as="sourcePoint" />
            <mxPoint x="780" y="665" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="db-conn10" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=1;strokeColor=#82b366" edge="1" parent="1" source="voting-svc" target="voting-db">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="990" y="655" as="sourcePoint" />
            <mxPoint x="990" y="665" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Footer -->
        <mxCell id="footer" value="Mafia District • Distributed System Architecture • Microservices • Service Discovery • Health Monitoring • Real-time Alerts • Log Management" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#666666;fontStyle=2" vertex="1" parent="1">
          <mxGeometry x="300" y="1110" width="1200" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
